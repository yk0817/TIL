# CQRS

## DDDの参照系処理で発生する問題

一覧画面で複数の集約の情報を表示したい場面でリポジトリを使用するだけだと問題が発生することがある
主な問題点は
- 複数の集約から値をとって返す...ループが増えてよみづらい
- 必要ない値を取得して、パフォーマンスが悪化
- 複数集約の条件で絞り込んでページング出来ない

## 解決策
CQRS...「参照に使用するモデルと更新に使用するモデルを分離する」

参照系モデルは特定のユースケースに特化した値の型を定義する

メリットとしては、チューニングしやすくなる。複数集約の場合、データ取得コードに専念できるためコードがシンプルになる？
↑ここらへんはあんまり理解出来なかったです :bow:

## 参考になるブログ記事
- [2017-08-03
CQRS + ESについてのまとめ](https://hi-yamamoto.hatenablog.com/entry/2017/08/03/202209)

- [Railsドメイン設計: イベントソーシングでCQRS Read Modelが基本的に必要な理由（翻訳）
](https://techracho.bpsinc.jp/hachi8833/2018_07_25/59396)
